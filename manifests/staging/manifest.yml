---
applications:
- name: federalist-builder-staging
  routes:
  - route: federalist-builder-staging.fr.cloud.gov
  disk_quota: 512M
  memory: 128M
  instances: 1
  services:
  - federalist-staging-sqs-creds
  - federalist-deploy-user
  env:
    BUILDER_POOL_TYPE: "task"
    TASK_APP_NAME: "federalist-build-container-staging"
    TASK_APP_COMMAND: "cd app && python main.py -p"
    TASK_MEM_GB: 2
    TASK_DISK_GB: 4
    TASK_MAX_MEM_GB: 20
    BUILD_TIMEOUT_SECONDS: 2700 # 45 * 60 seconds = 45 minutes
    CLOUD_FOUNDRY_OAUTH_TOKEN_URL: "https://login.fr.cloud.gov/oauth/token"
    LOG_LEVEL: "verbose"
    CUSTOM_TASK_MEM_REPOS: '["davemcorwin/federalist-uswds-gatsby"]'
